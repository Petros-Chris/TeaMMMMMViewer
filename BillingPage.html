<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing</title>
    <link rel="stylesheet" href="styling.css">
    <script src="CommonScriptHolder.js"></script>
</head>

<body>
    <div id="navBox">
        <a href="HomePage.html" class="navLink">Home</a>
        <a href="Catalog.html" class="navLink">Catalog</a>
        <a href="QuizDifficultyPage.html" class="navLink">Quiz</a>
        <a href="Checkout.html" class="navLink">Checkout</a>
    </div>

    <div id="purchase"></div>

    <form id="fillOutForm" onsubmit="purchaseScreen()">

        <div id="billingBox" class="homePageBoxes">
            <h2 class="darkText" style="text-align: center;">Please Enter Your Billing Information</h2>

            <label for="lasNameInput" class="darkText">LastName:</label>
            <input id="lasNameInput" class="darkTextBox" type="text" pattern="[A-Za-z]+"
                title="Must contain only letters" minlength="2" required>

            <br>

            <label for="firNameInput" class="darkText">FirstName:</label>
            <input id="firNameInput" class="darkTextBox" type="text" pattern="[A-Za-z]+"
                title="Must contain only letters" minlength="2" required>

            <br>

            <label for="emailInput" class="darkText">Email:</label>
            <input id="emailInput" class="darkTextBox" type="email"
                pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" title="Needs to look like this: adas@fsdf.ca"
                required>

            <h2 class="darkText" style="text-align: center;">Select Payment Method</h2>

            <div id="creditSelector">
                <button id="creditOptionBtn1" class="creditOptionsBtn" type="button"><img class="cardSelectionImage"
                        src="GeneralImages/visa.jpeg" alt="Visa"></button>
                <button id="creditOptionBtn2" class="creditOptionsBtn" type="button"><img class="cardSelectionImage"
                        src="GeneralImages/masterCard.png" alt="MasterCard"></button>
                <button id="creditOptionBtn3" class="creditOptionsBtn" type="button"><img class="cardSelectionImage"
                        src="GeneralImages/googlePay.png" alt="Gpay"></button>
            </div>

            <br> <br>

            <label for="cardName" class="darkText">FullName:</label>
            <input id="cardName" class="darkTextBox" type="text" pattern="^[a-zA-Z]+ [a-zA-Z]+$"
                title="Must contain only letters with a space" minlength="2" required>

            <br>

            <label for="cardNumber" class="darkText">Card Number:</label>
            <input id="cardNumber" class="darkTextBox" type="text" pattern="^[0-9]+$"
                title="Must contain atleast 16 numbers" minlength="16" required>

            <br>

            <label for="cardCVV" class="darkText">CVV:</label>
            <input id="cardCVV" class="darkTextBox" type="Text" pattern="^[0-9]+$"
                title="Must contain atleast 3 numbers" minlength="3" required>

            <br>

            <label for="address" class="darkText">Address:</label>
            <input id="address" class="darkTextBox" type="text" pattern="\d+\s+\w+\s+\w+" title="like 123 st fish"
                required>

            <br>

            <label for="city" class="darkText">City:</label>
            <input id="city" class="darkTextBox" type="text" pattern="[A-Za-z]+" title="Must be letters" required>

            <br>

            <label for="postalCode" class="darkText">Postal Code:</label>
            <input id="postalCode" class="darkTextBox" type="text" pattern="^[A-Za-z]\d[A-Za-z] \d[A-Za-z]\d$"
                title="has to be like F5N 1H4" minlength="6" required>
    </form>
    <br>

    <div id=costBox>
        <table id="summaryTable">
            <tr>
                <td class="darkText summaryTd">Subtotal:</td>
                <td class="darkText summaryTd" id="subTotal">$</td>
            </tr>

            <tr>
                <td class="darkText summaryTd">Discount:</td>
                <td class="darkText summaryTd" id="disscount">$</td>
            </tr>

            <tr>
                <td class="darkText summaryTd">Shipping:</td>
                <td class="darkText summaryTd" id="ship">$</td>
            </tr>

            <tr>
                <td class="darkText summaryTd">Taxes:</td>
                <td class="darkText summaryTd" id="taxes">$</td>
            </tr>

            <tr>
                <td class="darkText summaryTd">Total Cost:</td>
                <td class="darkText summaryTd" id="cost">$</td>
            </tr>
        </table>

        <br>

        <button id="orderButton" class="darkBtn" type="submit">Place Order</button>
    </div>
    </div>

    <div id="darkModeButton" onclick="toggleDarkMode()">
        <label for="darkCheckBox" class="darkText" id="modeLabel">Toggle Dark Mode</label>
        <input type="checkbox" id="darkCheckBox">
    </div>

    <footer>
        For any inquiries, email at <a href="mailto:WeLoveOurCommunitea@gmail.com">WeLoveOurCommunitea@gmail.com</a>
    </footer>

    <script>
        var subTotal = sessionStorage.getItem("total") / 1;
        var discountAmountDouble = sessionStorage.getItem("discountAmount") / 100;
        var totalDiscountAmount = discountAmountDouble * subTotal;
        var totalWithDiscount = subTotal - totalDiscountAmount;
        var totalTax = totalWithDiscount * 0.14975;

        var totalCost = totalWithDiscount + totalTax + 10;

        document.getElementById("subTotal").innerText = subTotal + " $";
        document.getElementById("disscount").innerText = totalDiscountAmount.toFixed(2) + " $";

        document.getElementById("taxes").innerText = totalTax.toFixed(2) + " $";


        document.getElementById("ship").innerText = 10 + " $"

        document.getElementById("cost").innerText = totalCost.toFixed(2) + " $";

    </script>

</body>

</html>